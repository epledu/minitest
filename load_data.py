import os
import django

# 1. Django 환경 설정
os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'config.settings')
django.setup()

from quiz.models import Quiz, Question, Result


def run():
    # 데이터가 중복으로 들어가지 않도록 기존 데이터를 초기화하고 싶다면 아래 주석을 해제하세요.
    # Quiz.objects.all().delete()

    print("2026 트렌드 심리테스트 데이터 로딩 시작...")

    # --- 1. 도파민 디톡스 지수 테스트 ---
    q1, _ = Quiz.objects.get_or_create(
        title="도파민 디톡스 지수 테스트",
        slug="dopamine-test",
        defaults={'description': "요즘 나, 도파민 과식 중? 스크롤 피로도를 체크하고 내 뇌 상태를 진단해 보세요."}
    )

    results1 = [
        ('A', '스낵 도파민형', '자극을 먹고 살지만, 금방 배고파지는 타입', '알림 30% 줄이기 + 밤 15분 노스크롤'),
        ('B', '루틴 회복형', '무너져도 다시 세우는 회복력 있는 타입', '아침 10분 햇빛 + 체크리스트 3개'),
        ('C', '몰입형', '자극보다 몰입이 더 큰 도파민인 타입', '딥워크 25분 타이머 + 방해요소 1개 제거'),
        ('D', '리셋 필요형', '자극 피로가 누적된 상태, 회복이 먼저인 타입', '수면/식사/산책 중 1개부터 리셋'),
    ]
    for r_type, title, one_liner, mission in results1:
        Result.objects.get_or_create(
            quiz=q1,
            result_type=r_type,
            defaults={
                'title': title,
                'one_liner': one_liner,
                'description': title,
                'mission': mission,
            },
        )

    questions1 = [
        ("잠들기 전 마지막 10분, 나는?", "딱 한 개만… 하며 계속 넘긴다(스낵)", "내일 할 일/루틴을 정리한다(루틴)", "음악/책/작업에 빠져 있다(몰입)", "멍-하게 아무것도 못하고 그냥 본다(리셋)"),
        ("지루함이 찾아오면?", "바로 숏폼/피드로 도망(스낵)", "스트레칭/산책 같은 작은 루틴(루틴)", "취미/프로젝트에 들어간다(몰입)", "침대/소파에 눕고 방전(리셋)"),
        ("알림이 울릴 때 반응은?", "거의 즉시 확인(스낵)", "시간 정해서 몰아서 확인(루틴)", "몰입 중이면 무시(몰입)", "확인해도 뭘 봤는지 기억 안 남(리셋)"),
        ("휴대폰 없이 1시간이 주어진다면?", "불안해서 자꾸 만진다(스낵)", "청소/정리/운동 등 루틴(루틴)", "몰입 취미로 “시간 순삭”(몰입)", "아무 것도 하기 싫다(리셋)"),
        ("최근 내 뇌 상태는?", "자극 없으면 심심해서 못 견딤(스낵)", "루틴 지키면 안정됨(루틴)", "몰입하면 살아나는 느낌(몰입)", "계속 피곤/무기력(리셋)"),
        ("주말에 가장 끌리는 건?", "가볍게 많이 즐기는 코스(스낵)", "컨디션 회복 코스(루틴)", "딥하게 한 가지 파기(몰입)", "아무 일정도 없는 완전 휴식(리셋)"),
        ("내가 가장 자주 하는 말", "“아 맞다 이거도 봐야지”(스낵)", "“이거 하고 나면 편해져”(루틴)", "“나 지금 그거에 빠졌어”(몰입)", "“그냥… 모르겠어”(리셋)"),
        ("디톡스가 필요하다고 느끼는 순간", "스크롤 후 공허함(스낵)", "루틴이 무너질 때(루틴)", "몰입할 시간이 없을 때(몰입)", "쉬어도 회복이 안 될 때(리셋)"),
    ]
    for i, (txt, ca, cb, cc, cd) in enumerate(questions1):
        Question.objects.get_or_create(
            quiz=q1,
            order=i + 1,
            text=txt,
            defaults={
                'choice_a': ca,
                'choice_b': cb,
                'choice_c': cc,
                'choice_d': cd,
            },
        )

    # --- 2. 마이크로 소비 성향 테스트 ---
    q2, _ = Quiz.objects.get_or_create(
        title="마이크로 소비 성향 테스트",
        slug="micro-spending",
        defaults={'description': "나 요즘 돈 쓰는 방식, 딱 들켰다! 내 소확행 결제 DNA를 찾아보세요."}
    )

    results2 = [
        ('A', '저장형 쇼퍼', '결제보다 ‘탐색’이 취미인 타입', '저장 목록 1개만 오늘 결제해보기'),
        ('B', '소확행 장인', '작은 행복 회복력이 높은 타입', '소확행 예산 상한선 정해보기'),
        ('C', '기능충', '내 인생을 개선하는 소비만 하는 타입', '한 달에 1번은 감성 소비 허용하기'),
        ('D', '기념품 수집가', '물건에 기억을 저장하는 타입', '기념품 대신 사진+메모로도 저장해보기'),
    ]
    for r_type, title, one_liner, mission in results2:
        Result.objects.get_or_create(
            quiz=q2,
            result_type=r_type,
            defaults={
                'title': title,
                'one_liner': one_liner,
                'description': title,
                'mission': mission,
            },
        )

    questions2 = [
        ("만원이 생기면?", "일단 저장해둔다(저장)", "디저트/작은 선물(소확행)", "생활템 업그레이드(기능)", "의미 있는 굿즈/기념품(기념)"),
        ("장바구니에 가장 많은 건?", "“나중에 살” 후보들(저장)", "간식/소품/향(소확행)", "충전기/정리템/도구(기능)", "전시/여행/굿즈(기념)"),
        ("결제 전 나의 루틴", "후기/최저가/쿠폰 체크(저장)", "“이거면 오늘 기분 좋아져”(소확행)", "스펙/내구성/활용도(기능)", "“이건 지금 아니면 못 사”(기념)"),
        ("후회하는 소비는?", "가격 더 떨어졌을 때(저장)", "행복감이 짧을 때(소확행)", "기능이 기대 이하일 때(기능)", "의미가 퇴색했을 때(기념)"),
        ("내 통장에 가장 자주 찍히는 금액대", "0원(저장만 함)(저장)", "3천~2만(소확행)", "2만~8만(기능)", "상황 따라 큼(기념)"),
        ("친구가 추천하면?", "저장하고 나중에 비교(저장)", "당장 같이 사자(소확행)", "“효율 좋음?”부터 묻는다(기능)", "스토리 있으면 혹한다(기념)"),
        ("나는 ‘쿠폰/적립’에 대해", "없으면 결제 미룬다(저장)", "있으면 좋고 없어도 산다(소확행)", "실질 이득이면 산다(기능)", "크게 신경 안 쓴다(기념)"),
        ("소비가 나를 설명하는 방식", "똑똑하게 준비하는 사람(저장)", "나를 달래는 사람(소확행)", "생활을 최적화하는 사람(기능)", "기억을 모으는 사람(기념)"),
    ]
    for i, (txt, ca, cb, cc, cd) in enumerate(questions2):
        Question.objects.get_or_create(
            quiz=q2,
            order=i + 1,
            text=txt,
            defaults={
                'choice_a': ca,
                'choice_b': cb,
                'choice_c': cc,
                'choice_d': cd,
            },
        )

    # --- 3. 외로움 관리 스타일 테스트 ---
    q3, _ = Quiz.objects.get_or_create(
        title="외로움을 ‘없애는’ 게 아니라 ‘관리’하는 법 테스트",
        slug="loneliness-management",
        defaults={'description': "외로움을 피하는 대신 잘 관리하는 나만의 방식을 찾아보세요."}
    )

    results3 = [
        ('A', '혼놀 인프라형', '혼자서도 잘 노는 시스템 구축형', '혼놀 루틴 1개(카페/산책/취미) 고정하기'),
        ('B', '숏소셜링형', '짧고 가벼운 연결로 충전하는 타입', '짧은 안부 메시지 1개 보내기'),
        ('C', '깊은관계형', '소수 깊은 관계가 핵심인 타입', '가까운 사람 1명과 30분 깊은 대화하기'),
        ('D', '완전독립형', '혼자 있는 시간이 에너지인 타입', '혼자만의 시간 30분 확보하기'),
    ]
    for r_type, title, one_liner, mission in results3:
        Result.objects.get_or_create(
            quiz=q3,
            result_type=r_type,
            defaults={
                'title': title,
                'one_liner': one_liner,
                'description': title,
                'mission': mission,
            },
        )

    questions3 = [
        ("외로움이 올 때, 먼저 하는 행동", "혼자 할 거리 세팅(혼놀)", "“밥 한끼?” 가볍게 연락(숏)", "진짜 편한 사람에게 깊게(깊)", "그냥 내버려 둔다(독립)"),
        ("연락 빈도는?", "필요할 때만(혼놀)", "가벼운 톡은 자주(숏)", "적지만 길게(깊)", "거의 안 해도 괜찮(독립)"),
        ("주말 계획이 없을 때", "루틴처럼 혼자 코스(혼놀)", "즉흥 번개(숏)", "한 사람과 오래(깊)", "아무것도 안 해도 좋음(독립)"),
        ("사람 만난 뒤 내 상태", "피곤하지만 적당(혼놀)", "오히려 에너지 올라감(숏)", "잘 맞으면 매우 충전(깊)", "대체로 방전(독립)"),
        ("내가 원하는 위로 방식", "혼자만의 시간(혼놀)", "짧은 수다(숏)", "진심 대화(깊)", "위로 없어도 괜찮(독립)"),
        ("새로운 모임/커뮤니티에 대해", "취미 목적이면 OK(혼놀)", "가볍게 참여 가능(숏)", "친해질 만한지 봄(깊)", "별로 관심 없음(독립)"),
        ("외로움의 진짜 원인", "할 게 없을 때(혼놀)", "연결이 끊겼을 때(숏)", "진짜 이해받지 못할 때(깊)", "컨디션이 떨어질 때(독립)"),
        ("나에게 가장 필요한 처방", "혼자 놀 인프라 업글(혼놀)", "부담 없는 소셜 루틴(숏)", "깊은 관계 유지 장치(깊)", "독립을 존중하는 환경(독립)"),
    ]
    for i, (txt, ca, cb, cc, cd) in enumerate(questions3):
        Question.objects.get_or_create(
            quiz=q3,
            order=i + 1,
            text=txt,
            defaults={
                'choice_a': ca,
                'choice_b': cb,
                'choice_c': cc,
                'choice_d': cd,
            },
        )

    # --- 4. 의도적 삶 vs 효율 과몰입 테스트 ---
    q4, _ = Quiz.objects.get_or_create(
        title="나는 지금 ‘삶’에 집중 중일까, ‘최적화’에 중독일까?",
        slug="intentional-vs-optimization",
        defaults={'description': "아날로그 리추얼과 효율 올인 사이, 지금 내 위치를 점검해보세요."}
    )

    results4 = [
        ('A', '아날로그 리추얼형', '의식(ritual)으로 삶을 잡는 타입', '오늘 하루 의식 루틴 1개 만들어보기'),
        ('B', '클래식 취향형', '오래된 것/정통/깊이를 선호하는 타입', '종이책/전시 등 클래식 경험 1개'),
        ('C', '하이브리드형', '디지털과 아날로그 균형 타입', '디지털 1개 + 아날로그 1개 균형 맞추기'),
        ('D', '효율 올인형', '시간/성과/최적화가 최우선인 타입', '휴식 일정 1개를 캘린더에 고정'),
    ]
    for r_type, title, one_liner, mission in results4:
        Result.objects.get_or_create(
            quiz=q4,
            result_type=r_type,
            defaults={
                'title': title,
                'one_liner': one_liner,
                'description': title,
                'mission': mission,
            },
        )

    questions4 = [
        ("아침 시작 방식", "차/음악/정리 같은 의식(리추얼)", "신문/책/클래식 루틴(클래식)", "필요한 만큼만 혼합(하이브리드)", "바로 업무/체크리스트(효율)"),
        ("내가 싫어하는 낭비", "의미 없는 소비(리추얼)", "얕은 정보(클래식)", "극단(하이브리드)", "비효율(효율)"),
        ("기록 방식", "종이/다이어리(리추얼)", "긴 글/정리(클래식)", "상황 따라(하이브리드)", "앱/자동화(효율)"),
        ("주말의 이상적인 하루", "느린 루틴+산책(리추얼)", "전시/공연/독서(클래식)", "둘 다 조금씩(하이브리드)", "생산성 높은 정비(효율)"),
        ("내가 자주 하는 생각", "오늘을 잘 살고 싶다(리추얼)", "깊이를 갖고 싶다(클래식)", "균형이 중요(하이브리드)", "더 빨리, 더 많이(효율)"),
        ("앱/도구 사용", "최소한만(리추얼)", "검증된 것만(클래식)", "필요한 건 쓴다(하이브리드)", "자동화/최적화 세팅(효율)"),
        ("나를 편하게 하는 것", "반복되는 의식(리추얼)", "전통/품질(클래식)", "선택권(하이브리드)", "통제감(효율)"),
        ("지금 필요한 한 가지", "속도 낮추기(리추얼)", "깊게 파기(클래식)", "균형 재조정(하이브리드)", "휴식 스케줄링(효율)"),
    ]
    for i, (txt, ca, cb, cc, cd) in enumerate(questions4):
        Question.objects.get_or_create(
            quiz=q4,
            order=i + 1,
            text=txt,
            defaults={
                'choice_a': ca,
                'choice_b': cb,
                'choice_c': cc,
                'choice_d': cd,
            },
        )

    # --- 5. 콘텐츠 소비 스타일(리퀴드 콘텐츠) 테스트 ---
    q5, _ = Quiz.objects.get_or_create(
        title="숏폼→밈→롱폼 내 콘텐츠 뇌 회로 테스트",
        slug="liquid-content",
        defaults={'description': "내 콘텐츠 소비 루트를 분석해 나만의 최적 시청 패턴을 찾아보세요."}
    )

    results5 = [
        ('A', '숏폼 순환형', '짧게 많이 보고 흐름 타는 타입', '오늘 숏폼 10분 제한 실험'),
        ('B', '저장-정주행형', '저장해두고 몰아서 보는 타입', '저장 리스트 1개만 정주행'),
        ('C', '밈 생산형', '소비→재가공→공유가 빠른 타입', '가벼운 밈 1개 만들어 공유'),
        ('D', '정보 캡처형', '캡처/요약/정리로 남기는 타입', '메모 앱에 핵심 3줄 정리'),
    ]
    for r_type, title, one_liner, mission in results5:
        Result.objects.get_or_create(
            quiz=q5,
            result_type=r_type,
            defaults={
                'title': title,
                'one_liner': one_liner,
                'description': title,
                'mission': mission,
            },
        )

    questions5 = [
        ("영상 보다가 끌리면", "다음 영상으로 계속(숏폼)", "저장 후 나중에(정주행)", "바로 짤/댓글/드립(밈)", "핵심 캡처/메모(캡처)"),
        ("내 피드 상태", "짧고 자극적인 게 많다(숏폼)", "길고 완성도 높은 것 위주(정주행)", "유머/밈 중심(밈)", "정보/팁/정리 위주(캡처)"),
        ("친구에게 공유하는 방식", "“이거 봐” 링크 투척(숏폼)", "“시간 되면 이거 꼭” 추천(정주행)", "짤+한줄 드립(밈)", "요약해서 전달(캡처)"),
        ("롱폼을 볼 때", "거의 못 본다(숏폼)", "모아놨다 한 번에 본다(정주행)", "밈 포인트만 건진다(밈)", "필요한 구간만 본다(캡처)"),
        ("내가 ‘재미’를 느끼는 순간", "빠른 전개(숏폼)", "서사/완결(정주행)", "드립/반응(밈)", "“오… 유용하다”(캡처)"),
        ("스크롤 후 남는 것", "기억은 흐릿(숏폼)", "인상/감정이 남음(정주행)", "공유한 흔적이 남음(밈)", "저장/메모가 남음(캡처)"),
        ("내 폰에 가장 많은 것", "추천 알고리즘 앱(숏폼)", "저장 목록(정주행)", "짤/짧은 클립(밈)", "캡처/노트(캡처)"),
        ("내 콘텐츠 목표는", "기분 전환(숏폼)", "제대로 즐기기(정주행)", "같이 웃기(밈)", "내 것으로 만들기(캡처)"),
    ]
    for i, (txt, ca, cb, cc, cd) in enumerate(questions5):
        Question.objects.get_or_create(
            quiz=q5,
            order=i + 1,
            text=txt,
            defaults={
                'choice_a': ca,
                'choice_b': cb,
                'choice_c': cc,
                'choice_d': cd,
            },
        )

    print("모든 트렌드 테스트 데이터 로드가 완료되었습니다!")


if __name__ == '__main__':
    run()
